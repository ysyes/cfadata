<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#box{
				width: 800px;
				height: 500px;
			}
			.main{
				height: 60px;
				padding: 20px;
				font-size: 16px;
			}
			.main input{
				height: 30px;
				width: 600px;
			}
			.main button{
				width: 100px;
				height: 40px;
			}
		</style>
	</head>
	<body>
		<div class="main">
			播放地址：<input type="text" name="" id="" value="rtmp://liveone.cfadata.cn/one/live2?auth_key=1518599442-8076500-0-bd57075d8ecfa38e54edc42d6db3926e" />
			<button onclick="playerFn()">提交</button>
		</div>
		<div id="box">
			
		</div>
		<script type="text/javascript" src="chplayer/chplayer.min.js" ></script>
		<script type="text/javascript">
			function playerFn() {
				var videoObject = {
					container: '#box', //容器的ID或className
					variable: 'player',
					volume: 0.6, //默认音量
					poster: 'screenshot/wdm.jpg', //封面图片地址
					autoplay: true, //是否自动播放
					loop: false, //是否循环播放
					live: false, //是否是直播
					loaded: 'loadedHandler', //当播放器加载后执行的函数
					seek: 0, //默认需要跳转的时间
					drag: '', //在flashplayer情况下是否需要支持拖动，拖动的属性是什么
					front: 'frontFun', //前一集按钮动作
					next: 'nextFun', //下一集按钮动作
					video: 'rtmp://liveone.cfadata.cn/one/live2?auth_key=1518599442-8076500-0-bd57075d8ecfa38e54edc42d6db3926e'
				}
				var player = new chplayer(videoObject);
			}
				
			function loadedHandler() {
//				alert("准备开始");
				player.addListener('ended', endedHandler); //监听全屏/非全屏切换
				player.addListener('timeupdate', timeUpdateHandler); //监听播放时间
			}
			function frontFun(){
				alert("上一集");
			}
			function nextFun() {
				alert("下一集");
			}
			function endedHandler() {
				alert("播放完成");
			}
			function timeUpdateHandler() {
				console.log('当前播放时间（秒）：' + player.time);
			}
		</script>
	</body>
</html>
